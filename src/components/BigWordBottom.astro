<div
	class="relative after:absolute after:inset-0 after:h-full after:bg-linear-to-b after:from-transparent after:to-white md:mt-12"
>
	<div class="overflow-hidden text-[clamp(1rem,90%,25rem)]">
		<div
			class="hue text-transparent bg-clip-text bg-gradient-to-r from-zinc-500 to-slate-500 responsive-brand-text mx-auto text-center leading-[0.8] font-black uppercase max-md:py-5"
		>
			logotype
		</div>
		<div
			class="pointer-events-none absolute right-0 bottom-0 left-0 z-10 h-[calc(50%+1.5rem)] w-full"
		>
			<div class="blur-layer blur-1"></div>
			<div class="blur-layer blur-2"></div>
			<div class="blur-layer blur-3"></div>
			<div class="blur-layer blur-4"></div>
			<div class="blur-layer blur-5"></div>
			<div class="blur-layer blur-6"></div>
			<div class="blur-layer blur-7"></div>
		</div>
	</div>
</div>

<style>
	/* Общие стили слоёв */
	.blur-layer {
		position: absolute;
		inset: 0;
		-webkit-mask-repeat: no-repeat;
		mask-repeat: no-repeat;
	}

	/* ===== СЛОИ ===== */

	/* z-70 */
	.blur-1 {
		z-index: 70;
		backdrop-filter: blur(1px);
		-webkit-mask-image: linear-gradient(
			rgba(0, 0, 0, 0),
			rgba(0, 0, 0, 1) 10%,
			rgba(0, 0, 0, 1) 30%,
			rgba(0, 0, 0, 0) 40%
		);
	}

	/* z-60 */
	.blur-2 {
		z-index: 60;
		backdrop-filter: blur(2px);
		-webkit-mask-image: linear-gradient(
			rgba(0, 0, 0, 0) 10%,
			rgba(0, 0, 0, 1) 20%,
			rgba(0, 0, 0, 1) 40%,
			rgba(0, 0, 0, 0) 50%
		);
	}

	/* z-50 */
	.blur-3 {
		z-index: 50;
		backdrop-filter: blur(4px);
		-webkit-mask-image: linear-gradient(
			rgba(0, 0, 0, 0) 15%,
			rgba(0, 0, 0, 1) 30%,
			rgba(0, 0, 0, 1) 50%,
			rgba(0, 0, 0, 0) 60%
		);
	}

	/* z-40 */
	.blur-4 {
		z-index: 40;
		backdrop-filter: blur(8px);
		-webkit-mask-image: linear-gradient(
			rgba(0, 0, 0, 0) 20%,
			rgba(0, 0, 0, 1) 40%,
			rgba(0, 0, 0, 1) 60%,
			rgba(0, 0, 0, 0) 70%
		);
	}

	/* z-30 */
	.blur-5 {
		z-index: 30;
		backdrop-filter: blur(16px);
		-webkit-mask-image: linear-gradient(
			rgba(0, 0, 0, 0) 40%,
			rgba(0, 0, 0, 1) 60%,
			rgba(0, 0, 0, 1) 80%,
			rgba(0, 0, 0, 0) 90%
		);
	}

	/* z-20 */
	.blur-6 {
		z-index: 20;
		backdrop-filter: blur(32px);
		-webkit-mask-image: linear-gradient(rgba(0, 0, 0, 0) 60%, rgba(0, 0, 0, 1) 80%);
	}

	/* z-10 */
	.blur-7 {
		z-index: 10;
		backdrop-filter: blur(52px);
		-webkit-mask-image: linear-gradient(rgba(0, 0, 0, 0) 70%, rgba(0, 0, 0, 1) 100%);
	}
</style>

<script is:inline>
	function fitText(el, { min = 20, max = 400 } = {}) {
		if (!el || !el.parentElement) return

		const parent = el.parentElement

		const resize = () => {
			el.style.fontSize = `${max}px`

			const ratio = parent.clientWidth / el.scrollWidth
			const size = Math.max(min, Math.min(max, max * ratio))

			el.style.fontSize = `${size}px`
		}

		// resize observer > window resize
		const ro = new ResizeObserver(resize)
		ro.observe(parent)

		// после загрузки шрифтов
		if (document.fonts) {
			document.fonts.ready.then(resize)
		}

		resize()
	}

	document
		.querySelectorAll(".responsive-brand-text")
		.forEach(el => fitText(el, { min: 24, max: 500 }))
</script>
